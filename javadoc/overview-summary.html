<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_121) on Wed Mar 01 20:41:57 CET 2017 -->
<title>Overview (org.jdrupes.httpcodec 0.9.1-SNAPSHOT API)</title>
<meta name="date" content="2017-03-01">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Overview (org.jdrupes.httpcodec 0.9.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">org.jdrupes.httpcodec 0.9.1-SNAPSHOT API</h1>
</div>
<div class="header">
<div class="subTitle">
<div class="block">HTTP codecs for non-blocking I/O.</div>
</div>
<p>See: <a href="#overview.description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Packages table, listing packages, and an explanation">
<caption><span>Packages</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/package-summary.html">org.jdrupes.httpcodec</a></td>
<td class="colLast">
<div class="block">The entry point interfaces and classes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/plugin/package-summary.html">org.jdrupes.httpcodec.plugin</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/protocols/http/package-summary.html">org.jdrupes.httpcodec.protocols.http</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/protocols/http/client/package-summary.html">org.jdrupes.httpcodec.protocols.http.client</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/protocols/http/fields/package-summary.html">org.jdrupes.httpcodec.protocols.http.fields</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/protocols/http/server/package-summary.html">org.jdrupes.httpcodec.protocols.http.server</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/protocols/websocket/package-summary.html">org.jdrupes.httpcodec.protocols.websocket</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/jdrupes/httpcodec/util/package-summary.html">org.jdrupes.httpcodec.util</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="contentContainer"><a name="overview.description">
<!--   -->
</a>
<div class="block"><p>HTTP codecs for non-blocking I/O.</p>
<h1><a href="#jdrupes-http-codecs" id="jdrupes-http-codecs">JDrupes HTTP Codecs</a></h1>
<ul>
<li><a href="#decoders">Decoders</a></li>
<li><a href="#encoders">Encoders</a></li>
</ul>
<p>The HTTP codecs are modeled after the Java
<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetDecoder.html?is-external=true" title="class or interface in java.nio.charset"><code>CharsetDecoder</code></a> and
<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html?is-external=true" title="class or interface in java.nio.charset"><code>CharsetEncoder</code></a>.
A decoder is an engine that transforms a sequence
of bytes into a sequence of (initially) HTTP requests or responses.
An encoder transforms an HTTP request or
response (including the payload data) into a sequence of bytes.</p>
<p>The main difference between the Charset codecs and the HTTP codecs API
is due to the type of the decoded data. For Charset codecs this is a
homogeneous stream of <code>chars</code>, which is easy to handle. For HTTP codecs,
it&rsquo;s a mixture of headers and body data which can again consist
of <code>byte</code>s or <code>char</code>s.</p>
<h2><a href="#decoders" id="decoders">Decoders</a></h2>
<p>Decoders realize the <a href="org/jdrupes/httpcodec/Decoder.html" title="interface in org.jdrupes.httpcodec"><code>Decoder</code></a> interface.</p>
<p><img src="decoder.svg" alt="Decoder diagram" /></p>
<p>Binary data received from the network stream is passed to the<br />
<a href="org/jdrupes/httpcodec/Decoder.html#decode-java.nio.ByteBuffer-java.nio.Buffer-boolean-"><code>Decoder.decode(java.nio.ByteBuffer, java.nio.Buffer, boolean)</code></a> method in
a <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio"><code>ByteBuffer</code></a>. The method consumes as much data
as possible from the buffer and returns the result of the decoding
process.</p>
<p><img src="decoder-result.svg" alt="Decoder result" /></p>
<p>The basic information provided by the decoding process (defined in
<a href="org/jdrupes/httpcodec/Codec.Result.html" title="class in org.jdrupes.httpcodec"><code>Codec.Result</code></a>) is
known from the Charset codecs. &ldquo;Underflow&rdquo; indicates that more input
data is needed in order to complete the decoding. &ldquo;Overflow&rdquo; indicates that
the output buffer is full. In addition,
<a href="org/jdrupes/httpcodec/Codec.Result.html#getCloseConnection--"><code>Codec.Result.getCloseConnection()</code></a> may indicate
that the connection, from which the data is obtained, should be closed.
This indication is needed because closing the connection
is sometimes required by HTTP. As a codec cannot close the connection
itself, this must be done by the invoker (the supplier of the data stream).</p>
<p>Besides streams with body data, decoders such as an HTTP decoder
provide the headers that precede this (payload) data. The successful decoding
of a header is indicated in the result by
<a href="org/jdrupes/httpcodec/Decoder.Result.html#isHeaderCompleted--"><code>Decoder.Result.isHeaderCompleted()</code></a>. The
decoded header can be retrieved with
<a href="org/jdrupes/httpcodec/Decoder.html#getHeader--"><code>Decoder.getHeader()</code></a>.</p>
<p>Due to the details of the HTTP, it may be necessary to include
certain information in a response to a given (decoded) request. Of course,
the user of the HTTP codecs should not have to know about these details.
A decoder that decodes a request may therefore prepare a header that is
to be used for the response. This header can be obtained from
<a href="org/jdrupes/httpcodec/Decoder.Result.html#getResponse--"><code>Decoder.Result.getResponse()</code></a>.</p>
<p>In the special case that a request violates the protocol, a response is
prepared that signals back the error. In such a case (indicated by
<a href="org/jdrupes/httpcodec/Decoder.Result.html#isResponseOnly--"><code>Decoder.Result.isResponseOnly()</code></a>) the
header should immediately be passed to the corresponding encoder and
sent back to the requester. Note that not every exceptional situation
requires the connection to be closed. It is possible that
<code>isResponseOnly</code> returns <code>true</code> and <code>getCloseConnection</code> returns <code>false</code>.</p>
<p>A sample usage of the decoder can be found in the
<a href="https://github.com/mnlipp/jdrupes-httpcodec/blob/master/demo/org/jdrupes/httpcodec/demo/Connection.java" target="_top">demo code</a>.</p>
<h2><a href="#encoders" id="encoders">Encoders</a></h2>
<p>Encoders realize the <a href="org/jdrupes/httpcodec/Encoder.html" title="interface in org.jdrupes.httpcodec"><code>Encoder</code></a> interface.</p>
<p><img src="encoder.svg" alt="Decoder diagram" /></p>
<p>Encoding is started with a call to
<a href="org/jdrupes/httpcodec/Encoder.html#encode-T-"><code>Encoder.encode(MessageHeader)</code></a>. Subsequent
calls to
<a href="org/jdrupes/httpcodec/Encoder.html#encode-java.nio.Buffer-java.nio.ByteBuffer-boolean-"><code>Encoder.encode(Buffer, ByteBuffer, boolean)</code></a>
fill the output buffer with the encoded header and the body data.
If the information in the header indicates that the message does not
have a body, <a href="org/jdrupes/httpcodec/Encoder.html#encode-java.nio.ByteBuffer-"><code>Encoder.encode(ByteBuffer)</code></a>
can be called.</p>
<p>The result of the encode method is simply a <code>Codec.Result</code> that indicates
whether the output buffer is full and/or further body data is required.</p></div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript" charset="utf-8" src="./highlight.pack.js"></script>
<script type="text/javascript"><!--
var cssId = 'highlightCss';
if (!document.getElementById(cssId))
{
    var head  = document.getElementsByTagName('head')[0];
    var link  = document.createElement('link');
    link.id   = cssId;
    link.rel  = 'stylesheet';
    link.type = 'text/css';
    link.charset = 'utf-8';
    link.href = './highlight.css';
    link.media = 'all';
    head.appendChild(link);
}hljs.initHighlightingOnLoad();
//--></script></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setDomains", ["*.jdrupes.org","*.github.com/mnlipp/jdrupes","*.mnlipp.github.io","*.mnlipp.github.com"]]);
  _paq.push(["trackPageView"]);
  _paq.push(["enableLinkTracking"]);
  (function() {
    var u="//piwik.mnl.de/";
    _paq.push(["setTrackerUrl", u+"piwik.php"]);
    _paq.push(["setSiteId", "10"]);
    var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
    g.type="text/javascript"; g.async=true; g.defer=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//piwik.mnl.de/piwik.php?idsite=10" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code --></small></p>
</body>
</html>
